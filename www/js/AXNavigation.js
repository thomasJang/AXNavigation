var AXNavigation=function(){function a(){(function(){this.config={animateTime:300},this.isCordova=window.cordova?!0:!1}).apply(this,arguments);var a=this,b=this.config;this.position=0,this.content_stack=[],this.animating=!1,this.set_config=function(a,b){return $.extend(this.config,a,!0),this},this.open=function(a,c,d){if(this.animating)return this;this.animating=!0;var e=this.position;"right"==c&&e++;var f=$('<div class="'+b.content_wrapper_class_name+'" id="axn-content-'+a.objectName+'" data-content-target="'+c+'" data-content-position="'+e+'"></div>');if("_main"==c){a.header&&function(){var c=[];if(c.push('<div class="bar-wrapper" id="axn-navigation-'+a.objectName+'">'),a.header.title&&c.push('<div class="bar-title">'+a.header.title+"</div>"),a.header.addon)for(var d,e=0,f=a.header.addon.length;f>e;e++)d=a.header.addon[e],c.push('<div class="bar-addon '+d.type+'" data-header-btn="'+e+'">'+d.html+"</div>");c.push("</div>"),b.navigation_bar.html(c.join("")),b.navigation_bar.find("[data-header-btn]").bind("touchstart",function(){})}.call(this),b.content_container.empty(),b.content_container.append(f);for(var g=0,h=this.content_stack.length;h>g;g++)this.content_stack[g].jdom.remove(),window[this.content_stack[g].form.objectName]&&delete window[this.content_stack[g].form.objectName];this.content_stack=[],this.content_stack.push({form:a,jdom:b.content_container.find("#axn-content-"+a.objectName),navigation_jdom:b.content_container.find("#axn-navigation-"+a.objectName)}),$.get(a.url,function(b){f.append(b),window[a.objectName]&&window[a.objectName][a.startFunction]()})}else"_right"==c&&(b.content_container.append(f),this.content_stack.push({form:a,jdom:b.content_container.find("#axn-content-"+a.objectName)}),this.content_stack[this.content_stack.length-2].jdom.addClass("slide-out-left"),this.content_stack[this.content_stack.length-1].jdom.addClass("slide-in-right"),this.position=e,$.get(a.url,function(b){f.append(b),window[a.objectName]&&window[a.objectName][a.startFunction]()}));setTimeout(function(){this.animating=!1,this.content_stack[this.content_stack.length-1].jdom.removeClass("slide-in-right")}.bind(this),b.animateTime)},this.close=function(a){return this.animating?this:(this.animating=!0,this.content_stack[this.content_stack.length-2].jdom.removeClass("slide-out-left").addClass("slide-in-left"),this.content_stack[this.content_stack.length-1].jdom.removeClass("slide-in-right").addClass("slide-out-right"),void setTimeout(function(){this.content_stack[this.content_stack.length-2].jdom.removeClass("slide-in-left"),this.content_stack[this.content_stack.length-1].jdom.remove(),this.content_stack.pop(),window[a.objectName]&&delete window[a.objectName],this.animating=!1}.bind(this),b.animateTime))},this.scroll_top=function(c){if(this.animating)return this;a.animating=!0;var d=this.content_stack[this.content_stack.length-1].jdom;d.css({"-webkit-overflow-scrolling":"none",overflow:"hidden"}),d.stop().animate({scrollTop:c},b.animateTime,"swing",function(){a.animating=!1,d.css({"-webkit-overflow-scrolling":"touch",overflow:"auto"})})}}return a}();